---
trigger: always
description: "编码规范和开发标准 - 确保代码质量"
---

# 编码规范和开发标准

## 代码风格
- **注释语言**：所有注释必须使用中文
- **命名规范**：使用有意义的变量和函数名
- **代码结构**：保持代码的可读性和可维护性
- **模块化设计**：确保代码的可重用性

## JavaScript/TypeScript规范
- **ES6+语法**：优先使用现代JavaScript语法
- **异步处理**：使用async/await而不是Promise.then
- **错误处理**：实现适当的try-catch错误处理
- **类型安全**：在TypeScript项目中严格使用类型定义

## React开发规范
- **组件设计**：优先使用函数组件和Hooks
- **状态管理**：合理使用useState、useEffect等Hooks
- **组件拆分**：保持组件的单一职责原则
- **性能优化**：适当使用useMemo、useCallback等优化Hooks

## Node.js后端规范
- **API设计**：遵循RESTful API设计原则
- **中间件使用**：合理使用Express中间件
- **数据验证**：对所有输入数据进行验证
- **日志记录**：实现完善的日志记录系统

## 数据库规范
- **Prisma使用**：使用Prisma进行数据库操作
- **数据模型**：设计清晰的数据模型关系
- **查询优化**：避免N+1查询问题
- **数据迁移**：使用Prisma迁移管理数据库变更

## 安全编码规范
- **输入验证**：对所有用户输入进行严格验证
- **SQL注入防护**：使用参数化查询
- **XSS防护**：对输出内容进行适当转义
- **CSRF防护**：实现CSRF令牌验证
- **敏感数据**：敏感信息必须加密存储

## 测试规范
- **单元测试**：为核心业务逻辑编写单元测试
- **集成测试**：测试API接口的完整流程
- **前端测试**：测试关键用户交互流程
- **测试覆盖率**：保持合理的测试覆盖率

## Git提交规范
- **提交信息**：使用清晰的中文提交信息
- **提交频率**：小步快跑，频繁提交
- **分支管理**：使用feature分支进行功能开发
- **代码审查**：重要变更需要代码审查

## 性能优化规范
- **前端优化**：代码分割、懒加载、图片优化
- **后端优化**：数据库查询优化、缓存策略
- **移动端优化**：适配不同屏幕尺寸，优化加载速度
- **网络优化**：减少HTTP请求，使用CDN
